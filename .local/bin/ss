#! /bin/sh

file="/tmp/screenshot.png"
case "$1" in
  "r") # whole screen
    import -window root $file
    ;;
  "w") # selected window
    import -window $(xwininfo | grep -o "0x\w*" | head -1) $file
    ;;
  *) # rectangular region
    import $file
    ;;
esac
xclip -sel clip -t image/png -i /tmp/screenshot.png
